{{define "title"}}<title>Pelanggan</title>{{end}}
{{define "content"}}

  <div class="content" ng-app="App" ng-controller="Controller">
    <div class="box">
      <h1 style="float:left;  font-family: Roboto;"  class="textColor">
        <span class="glyphicon glyphicon-user"></span>
        Pelanggan
      </h1>
    </div>
    <form ng-submit="getCustomers()" class="" method="post">
      <input class="searchBox" ng-model="customerSearchQuery" type="text" placeholder="Cari..." name="" value="">
    </form>
    <span style="font-size:20px;color:#03A9F4;float:left;margin-left:-50px;margin-top:15px;font-weight:bolder;" class="glyphicon glyphicon-search">
    </span>
    <div class="tbl-wrapper">
      <table class="tbl-vertical-v1 darkPrimaryColorBackground">
        <tr>
          <td>Nama Pelanggan</td>
          <td>
            <button type="button" class="glyphicon glyphicon-plus-sign btn-medium-v1"  name="button"></button>
          </td>

        </tr>

        <tr ng-repeat="c in customers">
          <td>((c.name))</td>
          <td>
            <button type="button" class="glyphicon glyphicon-edit btn-medium-v1"  name="button"></button>
            <button type="button" class="glyphicon glyphicon-eye-open btn-medium-v1"  name="button"></button>
            <button type="button" class="glyphicon glyphicon-trash btn-medium-v1"  name="button"></button>
            <span class="btn-medium-v1 glyphicon glyphicon-print" type="button" name="button"></span>
            <button class="btn-medium-v2" type="button" name="button">ALAMAT</button>
            <button class="btn-medium-v2" type="button" name="button">SURAT JALAN</button>
          </td>
        </tr>

      </table>
    </div>


  </div>

  <script type="text/javascript">
    const app = angular.module("App",[])

    app.controller("Controller",function($scope,$http){
      $scope.customers = []
      $scope.getCustomers = function(){
        if ($scope.customerSearchQuery == "" || $scope.customerSearchQuery == undefined) {
          $http.get("http://localhost:444/api/customers").then(function(res){
            $scope.customers = res.data.result
          })
        }
        else {
          $http.get("http://localhost:444/api/customers?s="+$scope.customerSearchQuery).then(function(res){
            $scope.customers = res.data.result
          })
        }

      }
      $scope.getCustomers()

    })

    app.config(function($interpolateProvider) {
      $interpolateProvider.startSymbol('((');
      $interpolateProvider.endSymbol('))');
    });
  </script>



{{end}}
